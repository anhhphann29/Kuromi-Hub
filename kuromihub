local Starlight = loadstring(game:HttpGet("https://raw.nebulasoftworks.xyz/starlight"))()  

local NebulaIcons = loadstring(game:HttpGet("https://raw.nebulasoftworks.xyz/nebula-icon-library-loader"))()

local Window = Starlight:CreateWindow({
    Name = "ðŸ’– Kuromi Hub ðŸ’¤",
    Subtitle = "v1.0.0",
    Icon = 123456789,

    LoadingSettings = {
        Title = "ðŸ’– Kuromi Hub ðŸ’¤",
        Subtitle = "by ã‚¯ãƒ­ãƒŸ_Kuromi07 and lostinlove.15",
    },

    FileSettings = {
        ConfigFolder = "KuromiHub"
    },
})

local TabSection = Window:CreateTabSection("Tab Section")
local Tab = TabSection:CreateTab({
    Name = "Main",
    Icon = NebulaIcons:GetIcon('view_in_ar', 'Material'),
    Columns = 2,
}, "INDEX")

local Groupbox = Tab:CreateGroupbox({
    Name = "Groupbox",
    Column = 1,
}, "INDEX")

local SliderSpeed = Groupbox:CreateSlider({
    Name = "Speed (Force)",
    Icon = NebulaIcons:GetIcon('gauge', 'Lucide'),
    Range = {0, 100},
    Increment = 1,
    Callback = function(Value)
        local Players = game:GetService("Players")
        local RunService = game:GetService("RunService")
        local player = Players.LocalPlayer

        if _G.SpeedForce then
            _G.SpeedForce:Disconnect()
        end

        _G.SpeedForce = RunService.RenderStepped:Connect(function()
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local hrp = player.Character.HumanoidRootPart
                local humanoid = player.Character:FindFirstChildOfClass("Humanoid")

                if humanoid and humanoid.MoveDirection.Magnitude > 0 then
                    hrp.CFrame = hrp.CFrame + (humanoid.MoveDirection * (Value / 10))
                end
            end
        end)
    end,
}, "INDEX")

local ToggleInfiniteJump = Groupbox:CreateToggle({
    Name = "Infinite Jump",
    CurrentValue = false,
    Style = 2,
    Callback = function(Value)
        local Players = game:GetService("Players")
        local UserInputService = game:GetService("UserInputService")
        local player = Players.LocalPlayer

        if _G.InfJumpConn then
            _G.InfJumpConn:Disconnect()
            _G.InfJumpConn = nil
        end

        if Value then
            _G.InfJumpConn = UserInputService.InputBegan:Connect(function(input, gp)
                if gp then return end
                if input.KeyCode == Enum.KeyCode.Space then
                    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                        local hrp = player.Character.HumanoidRootPart
                        hrp.Velocity = Vector3.new(hrp.Velocity.X, 60, hrp.Velocity.Z)
                    end
                end
            end)
        end
    end,
}, "INDEX")

local Groupbox = Tab:CreateGroupbox({
    Name = "Groupbox",
    Column = 2,
}, "INDEX")

local Toggle = Groupbox:CreateToggle({
    Name = "ESP",
    CurrentValue = false,
    Style = 2,
    Callback = function(Value)

        local Players = game:GetService("Players")
        local RunService = game:GetService("RunService")
        local LocalPlayer = Players.LocalPlayer

        if _G.ESP_Loop then
            _G.ESP_Loop:Disconnect()
            _G.ESP_Loop = nil
        end

        if Value then
            _G.ESP_Loop = RunService.RenderStepped:Connect(function()
                for _, player in ipairs(Players:GetPlayers()) do
                    if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                        local char = player.Character
                        local hrp = char.HumanoidRootPart

                        -- DISTANCE
                        local distance = 0
                        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                            distance = math.floor(
                                (LocalPlayer.Character.HumanoidRootPart.Position - hrp.Position).Magnitude
                            )
                        end

                        -- HIGHLIGHT
                        if not char:FindFirstChild("ESP_HIGHLIGHT") then
                            local highlight = Instance.new("Highlight")
                            highlight.Name = "ESP_HIGHLIGHT"
                            highlight.FillColor = Color3.fromRGB(255, 0, 0)
                            highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
                            highlight.FillTransparency = 0.4
                            highlight.OutlineTransparency = 0
                            highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                            highlight.Parent = char
                        end

                        -- NAME + DISTANCE
if not hrp:FindFirstChild("ESP_TAG") then
    local bill = Instance.new("BillboardGui")
    bill.Name = "ESP_TAG"
    bill.Size = UDim2.new(0, 120, 0, 18)
    bill.AlwaysOnTop = true
    bill.StudsOffset = Vector3.new(0, 2.5, 0)
    bill.MaxDistance = 5000
    bill.Parent = hrp

    local text = Instance.new("TextLabel")
    text.Name = "TEXT"
    text.Size = UDim2.new(1,0,1,0)
    text.BackgroundTransparency = 1
    text.TextColor3 = Color3.fromRGB(255,255,255)
    text.TextStrokeTransparency = 0.3
    text.TextScaled = false
    text.TextSize = 14
    text.Font = Enum.Font.GothamSemibold
    text.Parent = bill
end

                        -- UPDATE TEXT REALTIME
                        if hrp:FindFirstChild("ESP_TAG") and hrp.ESP_TAG:FindFirstChild("TEXT") then
                            hrp.ESP_TAG.TEXT.Text = player.Name .. " [" .. distance .. "m]"
                        end
                    end
                end
            end)

        else
            for _, player in ipairs(Players:GetPlayers()) do
                if player.Character then
                    if player.Character:FindFirstChild("ESP_HIGHLIGHT") then
                        player.Character.ESP_HIGHLIGHT:Destroy()
                    end
                    if player.Character:FindFirstChild("HumanoidRootPart") then
                        local hrp = player.Character.HumanoidRootPart
                        if hrp:FindFirstChild("ESP_TAG") then
                            hrp.ESP_TAG:Destroy()
                        end
                    end
                end
            end
        end
    end,
}, "INDEX")
